HashPassword:
  handler: src/lambdas/photographers/hashPassword.handler
  events:
    - http:
        path: hash-password
        method: post
        cors: true
SignIn:
  handler: src/lambdas/photographers/signIn.handler
  events:
    - http:
        path: sign-in
        method: post
        cors: true

CreateAlbum:
  handler: src/lambdas/albums/createAlbum.handler
  events:
    - http:
        path: album
        method: post
        cors: true

GetAlbum:
  handler: src/lambdas/albums/getAlbum.handler
  events:
    - http:
        path: album
        method: get
        cors: true

GetAllAlbums:
  handler: src/lambdas/albums/getAllAlbums.handler
  events:
    - http:
        path: albums
        method: get
        cors: true

UploadPhotos:
  handler: src/lambdas/photos/uploadMany.handler
  events:
    - http:
        path: photos
        method: post
        cors: true
  memorySize: 1000
  timeout: 10

UploadSelfie:
  handler: src/lambdas/photos/uploadSelfie.handler
  events:
    - http:
        path: user/{id}/selfie
        method: post
        cors: true

AssociateClientsWithAlbum:
  handler: src/lambdas/albums/associateClientsWithAlbum.handler
  events:
    - http:
        path: album/addClients
        method: post
        cors: true

AddWatermarkAndThumbnailAddToDb:
  handler: src/lambdas/photos/addPhoto.handler
  events:
    - s3:
        bucket: photo-drop-images
        event: s3:ObjectCreated:*
        existing: true
        rules:
          - prefix: originalPhotos/
  memorySize: 1000
  timeout: 10

GetAllUsers:
  handler: src/lambdas/users/getAllUsers.handler
  events:
    - http:
        path: users
        method: get
        cors: true

GetConfirmationCode:
  handler: src/lambdas/users/getConfirmationCode.handler
  events:
    - http:
        path: user/getConfirmationCode
        method: post
        cors: true

ResendCode:
  handler: src/lambdas/users/resendCode.handler
  events:
    - http:
        path: user/resendCode
        method: post
        cors: true

LoginOrRegistration:
  handler: src/lambdas/users/loginOrRegister.handler
  events:
    - http:
        path: user/login
        method: post
        cors: true
